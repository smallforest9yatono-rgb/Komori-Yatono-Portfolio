<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Komori Yatono Portfolio</title>
<meta name="description" content="小森やと乃のポートフォリオサイトです。本サイトは、Web制作を行うフリーランスチーム Toiro Works の一部として運営されています。">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<!-- CSS -->
<link rel="stylesheet" href="doujin.css">

</head>

<body>

<header class="c-header">
  <div class="header-logo-menu">
    <h1 class="logo-area">Komori Yatono Portfolio</h1>

    <!-- PCメニュー -->
    <nav class="pc-menu">
      <a href="/Komori-Yatono-Portfolio/index.html#about">About</a>
      <a href="/Komori-Yatono-Portfolio/index.html#works-illustration">Works</a>
      <a href="/Komori-Yatono-Portfolio/index.html#works-web">Web</a>
      <a href="#works-doujin">Doujin</a>
      <a href="/Komori-Yatono-Portfolio/index.html#SNS">SNS</a>
      <a href="https://note.com/komori_yatono312" target="_blank" rel="noopener noreferrer">note</a>
    </nav>

    <!-- スマホハンバーガー -->
    <button class="hamburger" id="hamburger">&#9776;</button>
  </div>
</header>

<!-- スマホモーダル -->
<div class="modal" id="modal">
  <button class="close" id="close">&times;</button>
  <nav class="mobile-menu">
    <a href="/Komori-Yatono-Portfolio/index.html#about">About</a>
    <a href="/Komori-Yatono-Portfolio/index.html#works-illustration">Works</a>
    <a href="/Komori-Yatono-Portfolio/index.html#works-web">Web</a>
    <a href="#works-doujin">Doujin</a>
    <a href="/Komori-Yatono-Portfolio/index.html#SNS">SNS</a>
    <a href="https://note.com/komori_yatono312" target="_blank" rel="noopener noreferrer">note</a>
  </nav>
</div>

<section id="hero"></section>

<main>

<section id="works-doujin">
    <h2>Doujin Cover Illustration</h2>
    <div class="gallery">
    <div class="gallery-group">
    <div class="gallery-item size-large">
    <div class="frame-2"><div class="frame-h2">
    <div class="img-wrapper">
              <img src="book1.jpg" alt="doujin1">
    </div>
    </div>
    </div>
    </div>
</section>

<section id="works-illustration">
    <h2>Doujin GOODS</h2>
    <div class="gallery"><div class="gallery-item size-large">
      <div class="frame"><div class="frame-h2">
            <p>準備中</p>
        </div>
      </div>
    </div>
    </div>
</section>

<!-- ガードロープ -->
    <section class="decorated-section">
      <div class="works-content">
        <img src="rope2.png" alt="ガードロープ" class="ribbon-bottom">
      </div>
    </section>

</main>

<footer>
<p>&copy; 2025 Toiro Works</p>
</footer>

<script>
  // --- 共通 ---
  const modal = document.getElementById("modal");
  const hamburger = document.getElementById("hamburger");
  const closeBtn = document.getElementById("close");
  const ribbon = document.querySelector('.ribbon-bottom');
  const footer = document.querySelector('footer');

window.addEventListener('scroll', () => {
  const footerTop = footer.getBoundingClientRect().top;
  const windowHeight = window.innerHeight;

  if (footerTop < windowHeight) {
    // フッターにかかる直前で止める
    ribbon.style.position = 'absolute';
    ribbon.style.bottom = `${windowHeight - footerTop + 20}px`;
  } else {
    // 通常は固定表示
    ribbon.style.position = 'fixed';
    ribbon.style.bottom = '20px';
  }
});

  // --- スマホモーダル開閉 ---
  if(hamburger && modal && closeBtn){
    hamburger.addEventListener("click", () => modal.classList.add("open"));
    closeBtn.addEventListener("click", () => modal.classList.remove("open"));

    document.querySelectorAll(".mobile-menu a").forEach(link => {
      link.addEventListener("click", (e) => {
        modal.classList.remove("open"); // モーダルは閉じる

        // 外部リンクは例外 → 普通に飛ばす
        if(link.href.includes("note.com")) return;

        // ページ内リンク
        const href = link.getAttribute("href");
        if(href.startsWith("#")){
          e.preventDefault();
          const targetEl = document.getElementById(href.slice(1));
          if(targetEl) targetEl.scrollIntoView({ behavior: "smooth" });
        }
      });
    });
  }

  // --- PCメニュー用スムーズスクロール ---
  document.querySelectorAll(".pc-menu a[href^='#']").forEach(link => {
    link.addEventListener("click", e => {
      e.preventDefault();
      const targetId = link.getAttribute("href").slice(1);
      const targetEl = document.getElementById(targetId);
      if(targetEl) targetEl.scrollIntoView({ behavior: "smooth" });
    });
  });
</script>

</body>
</html>